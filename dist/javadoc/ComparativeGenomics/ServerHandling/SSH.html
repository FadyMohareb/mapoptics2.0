<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) on Mon Aug 28 14:20:55 BST 2023 -->
<title>SSH</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-08-28">
<meta name="description" content="declaration: package: ComparativeGenomics.ServerHandling, class: SSH">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SSH.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ComparativeGenomics.ServerHandling</a></div>
<h1 title="Class SSH" class="title">Class SSH</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">ComparativeGenomics.ServerHandling.SSH</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SSH</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Enables SSH connection to an external server, commands execution, creation of Docker container,
 running of scripts run_job.sh and calc_best_enz.sh as well as file uploading and downloading using STFP. 
 The externalJAR <code>Jsch</code> is used to add in external server connection.
 All files which are downloaded from an external server are saved to a directory called "download"
 within the MapOptics directory. The <code>Jsch</code> session is used to log into the external server.
 The session object is used to create a channel which enables functionalities such as file transfer or 
 commands execution.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>franpeters, Marie Schmit</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">SSH</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(ComparativeGenomics.ServerHandling.ExternalServer)" class="member-name-link">SSH</a><wbr>(<a href="ExternalServer.html" title="class in ComparativeGenomics.ServerHandling">ExternalServer</a>&nbsp;server)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor with external server data</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(ComparativeGenomics.ServerHandling.ExternalServer,javax.swing.JProgressBar)" class="member-name-link">SSH</a><wbr>(<a href="ExternalServer.html" title="class in ComparativeGenomics.ServerHandling">ExternalServer</a>&nbsp;server,
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html" title="class or interface in javax.swing" class="external-link">JProgressBar</a>&nbsp;bar)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor with external server and progress bar</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(ComparativeGenomics.ServerHandling.Job)" class="member-name-link">SSH</a><wbr>(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor with job data</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#connectServer()" class="member-name-link">connectServer</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Connects to the external server by opening an ssh session</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disconnectServer()" class="member-name-link">disconnectServer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disconnects server ssh and sftp channels</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#downloadEnzResults(ComparativeGenomics.ServerHandling.Job)" class="member-name-link">downloadEnzResults</a><wbr>(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Download results of best enzyme calculation and visualise them using COmpGenView,
 on a dedicated panel.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#downloadJobResults(ComparativeGenomics.ServerHandling.Job)" class="member-name-link">downloadJobResults</a><wbr>(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Downloads job results and display them on <code>CompGenView</code> panel.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeCmd(java.lang.String)" class="member-name-link">executeCmd</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cmd)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Executes a given command on the external server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>com.jcraft.jsch.ChannelSftp</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getChannel()" class="member-name-link">getChannel</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the sftp channel.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnection()" class="member-name-link">getConnection</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the boolean indicating if the server is connected via SSH or not.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isChannelConnected()" class="member-name-link">isChannelConnected</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Indicates if the channel is still connected</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isSftpChannelConnected()" class="member-name-link">isSftpChannelConnected</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Indicates if the sftp chanel is still connected</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#mkDir(java.lang.String)" class="member-name-link">mkDir</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dir)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new directory on the external server.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryLogFile(ComparativeGenomics.ServerHandling.Job)" class="member-name-link">queryLogFile</a><wbr>(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Queries log file to get the progresses of a job launched in the external server.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#runCalcBestEnz(ComparativeGenomics.ServerHandling.Job,boolean)" class="member-name-link">runCalcBestEnz</a><wbr>(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job,
 boolean&nbsp;query)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates restriction enzymes density scores.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#runContainer(java.lang.String)" class="member-name-link">runContainer</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;jobname)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Runs a container using the Docker image marieschmit/mapoptics_docker_server:ubuntuv16.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#runJob(ComparativeGenomics.ServerHandling.Job)" class="member-name-link">runJob</a><wbr>(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Runs a job, which includes reference and query fasta files digestion with restriction enzyme,
 producing cmap outputs.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHost(java.lang.String)" class="member-name-link">setHost</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;host)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets host of the external server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPass(java.lang.String)" class="member-name-link">setPass</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets password of this external server</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setProgressBar(javax.swing.JProgressBar)" class="member-name-link">setProgressBar</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html" title="class or interface in javax.swing" class="external-link">JProgressBar</a>&nbsp;bar)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the <code>JProgressBar</code> to add the ProgressMonitor object tracking the file
 upload progress to</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setServer(ComparativeGenomics.ServerHandling.ExternalServer)" class="member-name-link">setServer</a><wbr>(<a href="ExternalServer.html" title="class in ComparativeGenomics.ServerHandling">ExternalServer</a>&nbsp;server)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets external server to which to connect to and execute remote commands</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setUser(java.lang.String)" class="member-name-link">setUser</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets username of this external server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#uploadFile(java.lang.String,java.lang.String,javax.swing.JProgressBar)" class="member-name-link">uploadFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;file,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dir,
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html" title="class or interface in javax.swing" class="external-link">JProgressBar</a>&nbsp;bar)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Uploads a file to the server and indicates its upload progress
 on a progression bar (which can take the values 0 or 100)</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>SSH</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SSH</span>()</div>
<div class="block">Constructor</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(ComparativeGenomics.ServerHandling.Job)">
<h3>SSH</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SSH</span><wbr><span class="parameters">(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</span></div>
<div class="block">Constructor with job data</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>job</code> - job</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(ComparativeGenomics.ServerHandling.ExternalServer,javax.swing.JProgressBar)">
<h3>SSH</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SSH</span><wbr><span class="parameters">(<a href="ExternalServer.html" title="class in ComparativeGenomics.ServerHandling">ExternalServer</a>&nbsp;server,
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html" title="class or interface in javax.swing" class="external-link">JProgressBar</a>&nbsp;bar)</span></div>
<div class="block">Constructor with external server and progress bar</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>server</code> - external server of the session</dd>
<dd><code>bar</code> - progress bar indicating the percentage of files uploaded to the server</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(ComparativeGenomics.ServerHandling.ExternalServer)">
<h3>SSH</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SSH</span><wbr><span class="parameters">(<a href="ExternalServer.html" title="class in ComparativeGenomics.ServerHandling">ExternalServer</a>&nbsp;server)</span></div>
<div class="block">Constructor with external server data</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>server</code> - external server</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setProgressBar(javax.swing.JProgressBar)">
<h3>setProgressBar</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setProgressBar</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html" title="class or interface in javax.swing" class="external-link">JProgressBar</a>&nbsp;bar)</span></div>
<div class="block">Sets the <code>JProgressBar</code> to add the ProgressMonitor object tracking the file
 upload progress to</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bar</code> - <code>JProgressBar</code> tracking file upload</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setServer(ComparativeGenomics.ServerHandling.ExternalServer)">
<h3>setServer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setServer</span><wbr><span class="parameters">(<a href="ExternalServer.html" title="class in ComparativeGenomics.ServerHandling">ExternalServer</a>&nbsp;server)</span></div>
<div class="block">Sets external server to which to connect to and execute remote commands</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>server</code> - external server to which connection will be established</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="connectServer()">
<h3>connectServer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">connectServer</span>()</div>
<div class="block">Connects to the external server by opening an ssh session</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>boolean indicating if the connection to the external server has been successful</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getChannel()">
<h3>getChannel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">com.jcraft.jsch.ChannelSftp</span>&nbsp;<span class="element-name">getChannel</span>()</div>
<div class="block">Gets the sftp channel.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>ChannelSftp</code> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnection()">
<h3>getConnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">getConnection</span>()</div>
<div class="block">Gets the boolean indicating if the server is connected via SSH or not.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>boolean describing the connection (true for successfull connection)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUser(java.lang.String)">
<h3>setUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setUser</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;user)</span></div>
<div class="block">Sets username of this external server</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>user</code> - username of this external server</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPass(java.lang.String)">
<h3>setPass</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPass</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password)</span></div>
<div class="block">Sets password of this external server</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>password</code> - password of this external server</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHost(java.lang.String)">
<h3>setHost</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setHost</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;host)</span></div>
<div class="block">Sets host of the external server</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>host</code> - host of this ExternalServer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="disconnectServer()">
<h3>disconnectServer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">disconnectServer</span>()</div>
<div class="block">Disconnects server ssh and sftp channels</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the disconnection has been successful, false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeCmd(java.lang.String)">
<h3>executeCmd</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a></span>&nbsp;<span class="element-name">executeCmd</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cmd)</span></div>
<div class="block">Executes a given command on the external server</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cmd</code> - command to execute</dd>
<dt>Returns:</dt>
<dd>external server’s console output as an ArrayList</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mkDir(java.lang.String)">
<h3>mkDir</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">mkDir</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dir)</span></div>
<div class="block">Creates a new directory on the external server.
 This is used when creating the directories associated with a 
 new alignment job within MapOptics</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dir</code> - name of the directory to create</dd>
<dt>Returns:</dt>
<dd>true if successful and false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runContainer(java.lang.String)">
<h3>runContainer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runContainer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;jobname)</span></div>
<div class="block">Runs a container using the Docker image marieschmit/mapoptics_docker_server:ubuntuv16. 
 The name of the container is the name of the job. The job folder is a volume
 mounted in the container.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>jobname</code> - name of the job</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="uploadFile(java.lang.String,java.lang.String,javax.swing.JProgressBar)">
<h3>uploadFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">uploadFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;file,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dir,
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html" title="class or interface in javax.swing" class="external-link">JProgressBar</a>&nbsp;bar)</span></div>
<div class="block">Uploads a file to the server and indicates its upload progress
 on a progression bar (which can take the values 0 or 100)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>file</code> - file to upload to ExternalServer</dd>
<dd><code>dir</code> - directory on the external servre to which the file will be uploaded</dd>
<dd><code>bar</code> - JProgressBar to monitor the file transfer progress</dd>
<dt>Returns:</dt>
<dd>true if successful and false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryLogFile(ComparativeGenomics.ServerHandling.Job)">
<h3>queryLogFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a></span>&nbsp;<span class="element-name">queryLogFile</span><wbr><span class="parameters">(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</span></div>
<div class="block">Queries log file to get the progresses of a job launched in the external server.
 The log.txt file is generated while a job is running, it indicates which steps were run
 (for instance "Complete" or "Aligning data"_</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>job</code> - job from which log report is extracted</dd>
<dt>Returns:</dt>
<dd>contents of the log file, with each line as an element in an ArrayList</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runJob(ComparativeGenomics.ServerHandling.Job)">
<h3>runJob</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runJob</span><wbr><span class="parameters">(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</span></div>
<div class="block">Runs a job, which includes reference and query fasta files digestion with restriction enzyme,
 producing cmap outputs. Then, alignment of both cmap outputs in an xmap file with either FaNDOM or RefALigner (two aligners).
 Then, identification of SVs in the xmap output with one of the aligners. 
 A docker container is started with the Docker image previously ran.
 The script "run_job.sh" is executed inside this container.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>job</code> - job containing the data necessary to the execution of the process</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runCalcBestEnz(ComparativeGenomics.ServerHandling.Job,boolean)">
<h3>runCalcBestEnz</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runCalcBestEnz</span><wbr><span class="parameters">(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job,
 boolean&nbsp;query)</span></div>
<div class="block">Calculates restriction enzymes density scores.
 Starts the Docker container already ran for the job. Inside this container,
 execute the script "calc_best_enz.sh", which digest either the reference or query file
 with all the existing restriction enzyme and calculate their resulting densities,
 stored in an output file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>job</code> - job containing data necessary to run the process</dd>
<dd><code>query</code> - boolean, indicates if the calculation must be ran on query (true)
 or on reference reference file (false) of the given job</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downloadJobResults(ComparativeGenomics.ServerHandling.Job)">
<h3>downloadJobResults</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">downloadJobResults</span><wbr><span class="parameters">(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</span>
                        throws <span class="exceptions">com.jcraft.jsch.SftpException</span></div>
<div class="block">Downloads job results and display them on <code>CompGenView</code> panel.
 Results folder is downloaded in a local "download" folder. It contains the produced cmap, xmap and
 karyotype file, as well as the output of SV detection. Before downloading the results,
 the state of the job (saved in log.txt file in the external server) is verify: it must be complete.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>job</code> - job for which results are downloaded and displayed</dd>
<dt>Throws:</dt>
<dd><code>com.jcraft.jsch.SftpException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downloadEnzResults(ComparativeGenomics.ServerHandling.Job)">
<h3>downloadEnzResults</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">downloadEnzResults</span><wbr><span class="parameters">(<a href="Job.html" title="class in ComparativeGenomics.ServerHandling">Job</a>&nbsp;job)</span>
                        throws <span class="exceptions">com.jcraft.jsch.SftpException</span></div>
<div class="block">Download results of best enzyme calculation and visualise them using COmpGenView,
 on a dedicated panel.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>job</code> - job data on which the density scores are calculated</dd>
<dt>Throws:</dt>
<dd><code>com.jcraft.jsch.SftpException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isChannelConnected()">
<h3>isChannelConnected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isChannelConnected</span>()</div>
<div class="block">Indicates if the channel is still connected</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if it is connected, false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isSftpChannelConnected()">
<h3>isSftpChannelConnected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isSftpChannelConnected</span>()</div>
<div class="block">Indicates if the sftp chanel is still connected</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if it is connected, false if not</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
